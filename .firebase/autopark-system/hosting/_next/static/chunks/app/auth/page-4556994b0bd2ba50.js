(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{63:(e,t,a)=>{"use strict";var r=a(7260);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},1774:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var r=a(5155),i=a(2115),s=a(9934),n=a(63),o=a(2553),l=a(9708),c=a(5759),u=a(898);function d(e){try{let t=new Date(Date.now()+6048e5).toUTCString();document.cookie="role=".concat(encodeURIComponent(e),"; expires=").concat(t,"; path=/; SameSite=Lax")}catch(e){}}function h(){let{auth:e,firestore:t}=(0,s.D)(),a=(0,n.useRouter)(),{t:h}=(0,c.o)(),[m,p]=(0,i.useState)(""),[g,f]=(0,i.useState)(""),[b,x]=(0,i.useState)("driver"),[v,y]=(0,i.useState)(null),[w,j]=(0,i.useState)(!1),[N,k]=(0,i.useState)(!1),[S,D]=(0,i.useState)(!1),O=async r=>{r.preventDefault();try{j(!0),y(null);let r=(await (0,o.eJ)(e,m,g)).user;await (0,l.BN)((0,l.H9)(t,"users",r.uid),{role:b},{merge:!0}),d(b),a.push("dispatcher"===b?"/dispatcher/dashboard":"driver"===b?"/driver/dashboard":"/admin")}catch(e){y(e.message)}finally{j(!1)}},P=async r=>{r.preventDefault();try{j(!0),y(null);let r=await (0,o.x9)(e,m,g),i=(await (0,l.x7)((0,l.H9)(t,"users",r.user.uid))).data(),s=(null==i?void 0:i.role)||"driver";d(s),a.push("dispatcher"===s?"/dispatcher/dashboard":"driver"===s?"/driver/dashboard":"/admin")}catch(e){y(e.message)}finally{j(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"w-full max-w-md relative z-10",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsx)("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl shadow-lg",children:(0,r.jsx)(u.dv1,{className:"w-8 h-8 text-white"})})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-slate-900 mb-2 font-poppins",children:h(N?"auth.signUp":"auth.signIn")}),(0,r.jsx)("p",{className:"text-slate-600",children:h("auth.subtitle")})]}),(0,r.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-slate-200",children:[(0,r.jsxs)("form",{onSubmit:N?O:P,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:h("auth.email")}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:"email",type:"email",required:!0,className:"w-full px-4 py-3 pl-12 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none transition-all duration-200 bg-slate-50 focus:bg-white",placeholder:h("auth.emailPlaceholder"),value:m,onChange:e=>p(e.target.value),autoComplete:"email"}),(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-2",children:h("auth.password")}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:"password",type:S?"text":"password",required:!0,className:"w-full px-4 py-3 pl-12 pr-12 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none transition-all duration-200 bg-slate-50 focus:bg-white",placeholder:h("auth.passwordPlaceholder"),value:g,onChange:e=>f(e.target.value),autoComplete:N?"new-password":"current-password"}),(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,r.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>D(!S),children:S?(0,r.jsx)(u.mx3,{className:"w-5 h-5 text-slate-400 hover:text-slate-600 transition-colors"}):(0,r.jsx)(u.Ny1,{className:"w-5 h-5 text-slate-400 hover:text-slate-600 transition-colors"})})]})]}),N&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-slate-700 mb-2",children:h("auth.role")}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{id:"role",className:"w-full px-4 py-3 pl-12 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none transition-all duration-200 bg-slate-50 focus:bg-white appearance-none",value:b,onChange:e=>x(e.target.value),children:[(0,r.jsx)("option",{value:"driver",children:h("auth.roleDriver")}),(0,r.jsx)("option",{value:"dispatcher",children:h("auth.roleDispatcher")}),(0,r.jsx)("option",{value:"admin",children:h("auth.roleAdmin")})]}),(0,r.jsxs)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:["driver"===b&&(0,r.jsx)(u.x$1,{className:"w-5 h-5 text-slate-400"}),"dispatcher"===b&&(0,r.jsx)(u.p7b,{className:"w-5 h-5 text-slate-400"}),"admin"===b&&(0,r.jsx)(u.Pcn,{className:"w-5 h-5 text-slate-400"})]}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),v&&(0,r.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-red-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{className:"text-sm text-red-700",children:v})]})}),(0,r.jsx)("button",{type:"submit",disabled:w,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:w?(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),h(N?"auth.creatingAccount":"auth.signingIn")]}):h(N?"auth.createAccount":"auth.signInButton")})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsx)("button",{type:"button",onClick:()=>{k(!N),y(null)},className:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors duration-200",children:h(N?"auth.haveAccount":"auth.noAccount")})})]}),(0,r.jsxs)("div",{className:"mt-6 p-6 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-2xl shadow-lg",children:[(0,r.jsxs)("h3",{className:"text-sm font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h("auth.demoAccounts")]}),(0,r.jsxs)("div",{className:"text-xs text-blue-700 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,r.jsx)("span",{children:h("auth.demoDriver")})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,r.jsx)("span",{children:h("auth.demoDispatcher")})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,r.jsx)("span",{children:h("auth.demoAdmin")})]})]})]})]})})}},4585:(e,t,a)=>{"use strict";a.d(t,{BV:()=>u,j2:()=>l,kA:()=>c,yA:()=>o});var r=a(2078),i=a(2553),s=a(9708),n=a(1446);let o=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyBTdkRQUoEWJFTXNP5vGD8_DYZjLcyDpog",authDomain:"autopark-system.firebaseapp.com",projectId:"autopark-system",storageBucket:"autopark-system.firebasestorage.app",messagingSenderId:"375110425620",appId:"1:375110425620:web:0f357c1d44927b0d219b01",measurementId:"G-2VV3093XBH"}),l=(0,i.xI)(o),c=(0,s.aU)(o),u=(0,n.dG)(o)},5759:(e,t,a)=>{"use strict";a.d(t,{LanguageProvider:()=>o,o:()=>l});var r=a(5155),i=a(2115);let s=(0,i.createContext)(void 0),n={ru:{"header.user":"Пользователь","header.logout":"Выйти","header.driver":"Водитель","header.dispatcher":"Диспетчер","header.admin":"Админ","landing.title":"Fleetly","landing.subtitle":"Умная система управления автопарком нового поколения","landing.description":"Оптимизируйте маршруты, контролируйте расходы и повышайте эффективность вашего автопарка с помощью передовых технологий","landing.startButton":"Начать работу","landing.learnMoreButton":"Узнать больше","landing.loading":"Загружаем систему...","features.title":"Основные возможности","features.subtitle":"Полный контроль над автопарком с передовыми технологиями","features.realtime.title":"Мониторинг в реальном времени","features.realtime.description":"Водители передают координаты каждые 10 секунд, диспетчер видит всё на карте","features.communication.title":"Общение без границ","features.communication.description":"Встроенный чат и push-уведомления — водители всегда на связи","features.routes.title":"Маршруты и отчётность","features.routes.description":"История поездок, аналитика пробега, расход топлива и статистика","features.optimization.title":"Умная оптимизация","features.optimization.description":"AI предлагает лучшие маршруты с учётом пробок и времени","target.title":"Для кого?","target.subtitle":"Fleetly подходит для любого бизнеса с автопарком","target.companies.title":"Компании с автопарками","target.companies.description":"Полный контроль и планирование работы транспорта для максимальной эффективности","target.taxi.title":"Таксопарки и каршеринг","target.taxi.description":"Безопасность и доверие пассажиров через прозрачность и контроль качества","target.logistics.title":"Логистика и доставка","target.logistics.description":"Оптимизация маршрутов и затрат для повышения прибыльности бизнеса","why.title":"Почему Fleetly?","why.subtitle":"Современное решение, которое растёт вместе с вашим бизнесом","why.setup.title":"Простая настройка","why.setup.description":"Работает из браузера и на телефоне","why.notifications.title":"Уведомления в реальном времени","why.notifications.description":"Мгновенные push-уведомления","why.scalable.title":"Масштабируется","why.scalable.description":"От 1 до 1000+ машин","why.compatibility.title":"Совместимость","why.compatibility.description":"Google Maps и Firebase","cta.title":"Готовы начать?","cta.subtitle":"Присоединяйтесь к компаниям, которые уже оптимизировали свой автопарк с Fleetly","cta.button":"Попробовать бесплатно","footer.copyright":"Умная система управления автопарком.","auth.signIn":"Вход в систему","auth.signUp":"Регистрация","auth.subtitle":"Система управления автопарком для профессионалов","auth.email":"Email адрес","auth.emailPlaceholder":"your@email.com","auth.password":"Пароль","auth.passwordPlaceholder":"••••••••","auth.role":"Выберите роль","auth.roleDriver":"Водитель","auth.roleDispatcher":"Диспетчер","auth.roleAdmin":"Администратор","auth.createAccount":"Создать аккаунт","auth.signInButton":"Войти в систему","auth.creatingAccount":"Создаём аккаунт...","auth.signingIn":"Входим...","auth.haveAccount":"Уже есть аккаунт? Войти","auth.noAccount":"Нет аккаунта? Зарегистрироваться","auth.demoAccounts":"Демо-аккаунты для тестирования:","auth.demoDriver":"Водитель: almaz.zh7@gmail.com / 12345678","auth.demoDispatcher":"Диспетчер: almaz.zh6@gmail.com / 12345678","auth.demoAdmin":"Админ: almaz.zh5@gmail.com / 12345678"},en:{"header.user":"User","header.logout":"Logout","header.driver":"Driver","header.dispatcher":"Dispatcher","header.admin":"Admin","landing.title":"Fleetly","landing.subtitle":"Next-generation smart fleet management system","landing.description":"Optimize routes, control costs and improve the efficiency of your fleet with advanced technologies","landing.startButton":"Get Started","landing.learnMoreButton":"Learn More","landing.loading":"Loading system...","features.title":"Key Features","features.subtitle":"Complete fleet control with advanced technologies","features.realtime.title":"Real-time Monitoring","features.realtime.description":"Drivers send coordinates every 10 seconds, dispatcher sees everything on the map","features.communication.title":"Seamless Communication","features.communication.description":"Built-in chat and push notifications — drivers are always connected","features.routes.title":"Routes and Reporting","features.routes.description":"Trip history, mileage analytics, fuel consumption and statistics","features.optimization.title":"Smart Optimization","features.optimization.description":"AI suggests the best routes considering traffic and time","target.title":"Who is it for?","target.subtitle":"Fleetly is suitable for any business with a fleet","target.companies.title":"Companies with fleets","target.companies.description":"Complete control and planning of transport operations for maximum efficiency","target.taxi.title":"Taxi fleets and carsharing","target.taxi.description":"Safety and passenger trust through transparency and quality control","target.logistics.title":"Logistics and delivery","target.logistics.description":"Route and cost optimization to increase business profitability","why.title":"Why Fleetly?","why.subtitle":"Modern solution that grows with your business","why.setup.title":"Easy Setup","why.setup.description":"Works from browser and mobile","why.notifications.title":"Real-time Notifications","why.notifications.description":"Instant push notifications","why.scalable.title":"Scalable","why.scalable.description":"From 1 to 1000+ vehicles","why.compatibility.title":"Compatibility","why.compatibility.description":"Google Maps and Firebase","cta.title":"Ready to start?","cta.subtitle":"Join companies that have already optimized their fleet with Fleetly","cta.button":"Try for free","footer.copyright":"Smart fleet management system.","auth.signIn":"Sign In","auth.signUp":"Sign Up","auth.subtitle":"Professional fleet management system","auth.email":"Email address","auth.emailPlaceholder":"your@email.com","auth.password":"Password","auth.passwordPlaceholder":"••••••••","auth.role":"Select role","auth.roleDriver":"Driver","auth.roleDispatcher":"Dispatcher","auth.roleAdmin":"Administrator","auth.createAccount":"Create account","auth.signInButton":"Sign in","auth.creatingAccount":"Creating account...","auth.signingIn":"Signing in...","auth.haveAccount":"Already have an account? Sign in","auth.noAccount":"Don't have an account? Sign up","auth.demoAccounts":"Demo accounts for testing:","auth.demoDriver":"Driver: almaz.zh7@gmail.com / 12345678","auth.demoDispatcher":"Dispatcher: almaz.zh6@gmail.com / 12345678","auth.demoAdmin":"Admin: almaz.zh5@gmail.com / 12345678"}};function o(e){let{children:t}=e,[a,o]=(0,i.useState)("ru");return(0,i.useEffect)(()=>{let e=localStorage.getItem("language");e&&("ru"===e||"en"===e)&&o(e)},[]),(0,r.jsx)(s.Provider,{value:{language:a,setLanguage:e=>{o(e),localStorage.setItem("language",e)},t:e=>n[a][e]||e},children:t})}function l(){let e=(0,i.useContext)(s);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}},6724:(e,t,a)=>{"use strict";a.d(t,{k5:()=>u});var r=a(2115),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=r.createContext&&r.createContext(i),n=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){var r,i,s;r=e,i=t,s=a[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in r?Object.defineProperty(r,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[i]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function u(e){return t=>r.createElement(d,o({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,a)=>r.createElement(t.tag,c({key:a},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var a,{attr:i,size:s,title:l}=e,u=function(e,t){if(null==e)return{};var a,r,i=function(e,t){if(null==e)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,n),d=s||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),r.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:a,style:c(c({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),e.children)};return void 0!==s?r.createElement(s.Consumer,null,e=>t(e)):t(i)}},6835:(e,t,a)=>{Promise.resolve().then(a.bind(a,1774))},9934:(e,t,a)=>{"use strict";a.d(t,{D:()=>l,R:()=>o});var r=a(5155),i=a(2115),s=a(4585);let n=(0,i.createContext)(null),o=e=>{let{children:t}=e;return(0,r.jsx)(n.Provider,{value:{app:s.yA,auth:s.j2,firestore:s.kA,messaging:s.BV},children:t})},l=()=>{let e=(0,i.useContext)(n);if(!e)throw Error("useFirebase must be used within a FirebaseProvider");return e}}},e=>{e.O(0,[135,965,711,345,441,255,358],()=>e(e.s=6835)),_N_E=e.O()}]);